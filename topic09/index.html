<!DOCTYPE html>
<html lang="en"et="utf-8">
    <title>Topic 08 - HTML5 Tags - Video, Audio, and Canvas</title>
    <link rel="stylesheet" href="style.css" />
  </head>
<body>
	<h2>HTML 5 Video</h2>
  <div class="transitions_demo">	
      <div id="div1">linear</div>
      <div id="div2">ease</div>
      <div id="div3">ease-in</div>
      <div id="div4">ease-out</div>
      <div id="div5">ease-in-out</div>
  </div>
	<button id="bt_transitions_race">Click to start race</button> 
  <button id="bt_mouseover">Put mouse over to restart</button>
  <h2>Transforms</h2>

  <div class="wrap">
    <div class="container">
      <h1>Without transition</p>
      <div class="box1 box"></div>
    </div>
     <div class="container">
      <h1>With transition</p>
      <div class="box2 box"></div>
  </div>
  <h1>Rotate Transform</p>
  <div class="droplet"></div>
  <h1>Transform Translate</p>
  <div class="square2"></div>
  <h1>Transform Skew</p>
  <div class="square3"></div>
  <h1>Transform-origin</p>
  <div class="square4"></div>
  <h1>Combining transforms</p>
  <div class="square5"></div>


</div>

  <h2>Transition callbacks</h2> 
  <h6>Move the mouse over the blue square</h6>
  <div id ="container_trans"></div>
  <div id ="square"></div>
  <h2>Animation callbacks</h2> 
  <h6>Move the mouse over the green square</h6>
  <div id ="container_anim"></div>
  <div id ="anim"></div>
  <h2>Animation with negative time</h2> 
  <div class="animations_demo1">
    <div></div>
    <div></div>
    <div></div>
  </div>

    <script>
      let buttonClick = document.getElementById("bt_transitions_race");
      let buttonMouseOver = document.getElementById("bt_mouseover");
      buttonClick.addEventListener("click", () => {
        let divs = document.querySelectorAll('.transitions_demo');
        for (var i = 0; i < divs.length; i++) {
              divs[i].classList.add('start');
        }
      });
      

      buttonMouseOver.addEventListener("mouseover", () => {
      clearContainer();});
     
      const message = document.getElementById("container_trans");
      const el = document.getElementById('square');

      el.addEventListener('transitionrun', function() {
        message.textContent = 'transitionrun fired';
      });

      el.addEventListener('transitionstart', function() {
        message.textContent = 'transitionstart fired';
      });

      el.addEventListener('transitioncancel', function() {
        message.textContent = 'transitioncancel fired'; 
      }); 

      el.addEventListener('transitionend', function() {
        message.textContent = 'transitionend fired'; 
      });


      const pfx = ["webkit", "moz", "MS", "o", ""];
      function prefixedEvent(element, type, callback) {
        for (var p = 0; p < pfx.length; p++) {
          if (!pfx[p]) type = type.toLowerCase();
          element.addEventListener(pfx[p]+type, callback, false);
          }
        }
      var anim = document.getElementById("anim");
      prefixedEvent(anim, "AnimationStart", animationStartListener);
      prefixedEvent(anim, "AnimationIteration", animationIterListener);
      prefixedEvent(anim, "AnimationEnd", animationEndListener);

    function printToContainer(text){
      let divElement = document.getElementById("container");
      let paragraph = document.createElement('p');
      paragraph.innerHTML = text;       
    divElement.appendChild(paragraph);
  }  

  function clearContainer(){
      let divs = document.querySelectorAll('.transitions_demo');
        for (var i = 0; i < divs.length; i++) {
              divs[i].classList.remove('start');
        }
  }

  function animationStartListener(){
      let anim = document.getElementById("container_anim");
      anim.innerHTML = "animation start"
  }

  function animationIterListener(){
      let anim = document.getElementById("container_anim");
      anim.innerHTML = "animation iteration"
  }
  function animationEndListener(){
      let anim = document.getElementById("container_anim");
      anim.innerHTML = "animation end"
  }

  </script>
  
</body>
</html>  

